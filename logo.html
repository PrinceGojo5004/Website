<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Alchemy Lumiérre — Logo Animation</title>
<style>
  :root{
    --bg:#073726; /* deep emerald green */
    --copper1:#c7874f;
    --copper2:#e7b07a;
  }

  html,body{
    height:100%;
    margin:0;
    background:var(--bg);
    font-family: "Georgia", "Times New Roman", serif;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .stage{
    min-height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:28px;
    padding:40px;
    box-sizing:border-box;
  }

  /* Center container for logo */
  .logo-wrap{
    position:relative;
    width:520px;
    max-width:80vw;
    aspect-ratio:1/1;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  svg{ width:100%; height:100%; overflow:visible; }

  /* metallic gradient used for strokes & fills */
  .copper-grad stop { transition: none; }

  /* stroke drawing baseline style */
  .stroke {
    fill:none;
    stroke-linecap:round;
    stroke-linejoin:round;
    stroke-width:3.6;
    stroke: url(#copperGrad);
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.35)) blur(0px);
    /* subtle metallic sheen applied later via JS */
  }

  /* thicker emphasis on some lines */
  .stroke-bold {
    stroke-width:4.6;
  }

  /* inner A lines */
  .a-line {
    stroke-width:4;
    stroke: url(#copperGrad);
    fill:none;
  }

  /* glow layer for final flare */
  .glow {
    fill:none;
    stroke: url(#copperGrad);
    stroke-width:10;
    stroke-opacity:0.08;
    filter: blur(6px);
    pointer-events:none;
  }

  /* particles canvas sits above svg to allow light flakes */
  canvas#particles {
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    pointer-events:none;
  }

  /* brand text */
  .brand {
    color:transparent;
    font-size:36px;
    letter-spacing:1px;
    text-align:center;
    line-height:1;
    display:inline-block;
    position:relative;
    -webkit-font-smoothing:antialiased;
  }

  /* shimmering effect via gradient mask */
  .brand .text {
    background: linear-gradient(90deg, rgba(255,255,255,0.02) 0%, rgba(231,176,122,0.9) 40%, rgba(199,135,79,1) 60%, rgba(255,255,255,0.02) 100%);
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
    font-variant-ligatures: common-ligatures;
    transition: opacity 0.6s ease;
  }

  /* letter-by-letter fade (JS will set .char visible) */
  .brand .char {
    opacity:0;
    display:inline-block;
    transform:translateY(8px);
    transition: opacity 400ms ease, transform 500ms cubic-bezier(.2,.9,.3,1);
    will-change:opacity, transform;
  }

  .brand .char.visible {
    opacity:1;
    transform:translateY(0);
  }

  /* small accent spark on the é */
  .accent-spark {
    position:absolute;
    width:10px;
    height:10px;
    border-radius:999px;
    transform:translate(-50%,-50%);
    pointer-events:none;
    opacity:0;
    filter: blur(1px);
  }

  /* final subtle settle animation */
  .settle {
    animation: settleGlow 2.2s ease forwards;
    animation-delay:6.2s;
  }

  @keyframes settleGlow{
    0% { filter: drop-shadow(0 6px 18px rgba(199,135,79,0.35)); transform:scale(1.00); }
    100% { filter: drop-shadow(0 3px 6px rgba(0,0,0,0.25)); transform:scale(0.999); }
  }

  /* responsive text scaling */
  @media (max-width:580px){
    .brand { font-size:22px; }
  }
</style>
</head>
<body>
  <div class="stage">
    <div class="logo-wrap" aria-hidden="false">
      <!-- Particles canvas -->
      <canvas id="particles"></canvas>

      <!-- SVG: change / replace paths with the exact logo SVG if you have it -->
      <svg viewBox="0 0 600 600" preserveAspectRatio="xMidYMid meet" role="img" aria-label="Alchemy Lumiérre logo">
        <defs>
          <!-- copper gradient -->
          <linearGradient id="copperGrad" x1="0" x2="1" y1="0" y2="1" class="copper-grad">
            <stop offset="0%"  stop-color="#f6d2b2"/>
            <stop offset="35%" stop-color="#e7b07a"/>
            <stop offset="70%" stop-color="#c7874f"/>
            <stop offset="100%" stop-color="#8f4f2b"/>
          </linearGradient>

          <!-- subtle inner glow filter -->
          <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="6" result="blur" />
            <feMerge>
              <feMergeNode in="blur" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>

        <!-- faint central vertical rod -->
        <path id="rod" d="M300 80 L300 150" class="stroke" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round" style="stroke-opacity:0.9" />

        <!-- Flask outline (curvy) - drawn by stroke dash animation -->
        <path id="flask" class="stroke stroke-bold"
          d="M300 150
             C270 150 260 130 255 110
             C248 82 235 82 218 110
             C200 150 200 210 260 300
             C320 380 360 440 380 480
             L220 480
             C230 420 300 360 340 300
             C380 240 380 180 350 150
             C335 133 320 150 300 150
             Z"
          stroke-width="3.8" />

        <!-- inside 'A' geometry: top bar, left diagonal, right diagonal, middle bar -->
        <path id="a-top" class="a-line" d="M230 300 L370 300" />
        <path id="a-left" class="a-line" d="M255 430 L300 300" />
        <path id="a-right" class="a-line" d="M345 430 L300 300" />
        <path id="a-mid" class="a-line" d="M285 360 L315 360" />

        <!-- horizontal baseline under A -->
        <path id="a-base" class="stroke" d="M220 500 L380 500" stroke-width="2.6"/>

        <!-- subtle glow ring -->
        <path id="glowRing" class="glow" d="M300 130 C260 120 220 150 220 210 C220 260 260 320 300 360 C340 320 380 260 380 210 C380 150 340 120 300 130 Z" />

      </svg>
    </div>

    <!-- Brand text with letter-by-letter -->
    <div class="brand" id="brand">
      <span class="text" aria-hidden="false" id="brandText"></span>
      <!-- spark element for é -->
      <div id="accentSpark" class="accent-spark" style="background:radial-gradient(circle,#fff3cc, rgba(231,176,122,0.9) 40%, rgba(199,135,79,0.6) 70%);"></div>
    </div>
  </div>

<script>
/*
  Logo animation script
  - Draws SVG strokes using stroke-dasharray technique
  - Particles simulate golden dust coalescing
  - Letter-by-letter reveal with a little shimmer on the 'é'
  - If you have exact SVG paths from the original logo, replace the paths inside <svg> and keep the IDs:
      flask, a-top, a-left, a-right, a-mid, a-base, rod, glowRing
*/

(function(){
  const DURATION_DRAW = 2200; // ms for main draw
  const STAGGER = 220; // ms between each inner-line draw

  const getPath = id => document.getElementById(id);
  const paths = ['rod','flask','a-top','a-left','a-right','a-mid','a-base','glowRing'];

  // Prepare the stroke paths for drawing
  paths.forEach((id, idx) => {
    const p = getPath(id);
    if(!p) return;
    const length = p.getTotalLength ? p.getTotalLength() : approxLength(p);
    // set dasharray equal to length and set offset to length to hide the stroke
    p.style.strokeDasharray = length;
    p.style.strokeDashoffset = length;
    p.style.transition = `stroke-dashoffset ${DURATION_DRAW}ms cubic-bezier(.2,.9,.3,1) ${idx * (STAGGER/1000)}s`;
    // slightly increase thickness for emphasis for flask early
    if(id === 'flask'){
      p.style.strokeWidth = 4.2;
    }
  });

  // Kick off the draw sequence
  function startDraw(){
    // animate the main paths to zero offset
    paths.forEach((id, idx) => {
      const p = getPath(id);
      if(!p) return;
      // small timing adjustments: inner A lines draw a little later
      setTimeout(()=> {
        p.style.strokeDashoffset = 0;
      }, idx * STAGGER + 300);
    });

    // After main draw, reveal brand text
    setTimeout(revealText, DURATION_DRAW + (paths.length*STAGGER) - 200);
    // Add finale glow settle
    setTimeout(()=> {
      document.querySelector('svg').classList.add('settle');
    }, 6200);
  }

  // Fallback to approximate length if getTotalLength missing (rare)
  function approxLength(node){
    const bbox = node.getBBox();
    return (bbox.width + bbox.height) * 2;
  }

  // Particles: small golden flecks that swirl and coalesce
  const canvas = document.getElementById('particles');
  let ctx = canvas.getContext('2d');
  let particles = [];
  let w, h, cx, cy;
  function resizeCanvas(){
    const rect = canvas.getBoundingClientRect();
    w = canvas.width = Math.round(rect.width * devicePixelRatio);
    h = canvas.height = Math.round(rect.height * devicePixelRatio);
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
    ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    cx = rect.width/2; cy = rect.height/2;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  // initialize particles
  function spawnParticles(n){
    for(let i=0;i<n;i++){
      particles.push({
        x: cx + (Math.random()-0.5) * 180,
        y: cy + (Math.random()-0.5) * 180,
        vx: (Math.random()-0.5) * 0.6,
        vy: (Math.random()-0.5) * 0.6,
        life: 1200 + Math.random()*1400,
        age: 0,
        r: 0.8 + Math.random()*2.4,
        hue: 30 + Math.random()*20,
        alpha: 0.9 * Math.random()
      });
    }
  }

  let last = performance.now();
  function step(now){
    const dt = Math.min(40, now-last);
    last = now;
    // clear
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // update draw stage particles
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.age += dt;
      // pull toward center to coalesce during first seconds
      const t = Math.min(1, p.age/2000);
      const pull = 0.0005 + 0.002*(1-t);
      // center slightly under top-center of flask
      const targetX = cx;
      const targetY = cy - 40;
      p.vx += (targetX - p.x) * pull;
      p.vy += (targetY - p.y) * pull;
      p.x += p.vx * (dt*0.06);
      p.y += p.vy * (dt*0.06);
      const lifeRatio = 1 - (p.age / p.life);
      if(lifeRatio <= 0){
        particles.splice(i,1); continue;
      }
      const rad = p.r * (0.6 + 0.8 * lifeRatio);
      ctx.beginPath();
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, rad*4);
      grad.addColorStop(0, `rgba(255,245,220,${0.9 * lifeRatio})`);
      grad.addColorStop(0.4, `rgba(231,176,122,${0.65 * lifeRatio})`);
      grad.addColorStop(1, `rgba(199,135,79,${0.02 * lifeRatio})`);
      ctx.fillStyle = grad;
      ctx.globalCompositeOperation = 'lighter';
      ctx.fillRect(p.x - rad*4, p.y - rad*4, rad*8, rad*8);
      ctx.globalCompositeOperation = 'source-over';
    }
    requestAnimationFrame(step);
  }

  // Reveal text letter-by-letter
  const brand = document.getElementById('brand');
  const brandTextEl = document.getElementById('brandText');
  const accentSpark = document.getElementById('accentSpark');
  const brandText = "Alchemy Lumiérre"; // exact text

  function revealText(){
    // create spans for each char
    brandTextEl.innerHTML = '';
    for(let i=0;i<brandText.length;i++){
      const ch = brandText[i];
      const span = document.createElement('span');
      span.className = 'char';
      span.textContent = ch;
      brandTextEl.appendChild(span);
    }
    // staggered reveal
    const chars = brandTextEl.querySelectorAll('.char');
    chars.forEach((c, i) => {
      setTimeout(()=> {
        c.classList.add('visible');
        // micro shimmer: temporarily boost background for the char using inline style
        c.style.transition = 'opacity 420ms ease, transform 420ms cubic-bezier(.2,.9,.3,1)';
      }, i * 85 + 120);
      // accent spark on 'é'
      if(c.textContent === 'é'){
        setTimeout(()=> showAccentSpark(c), i * 85 + 180);
      }
    });

    // slight continuous shimmer sweep across the word
    setTimeout(()=> {
      brandTextEl.parentElement.querySelector('.text').style.transition = 'background-position 1.3s ease';
      // animate a quick shimmer by toggling a class or inline transform
      // we will animate via CSS gradient by forcing reflow then toggling opacity
      brandTextEl.parentElement.querySelector('.text').style.opacity = '1';
    }, brandText.length * 85 + 400);

    // spawn particles as text reveals
    spawnParticles(120);
  }

  function showAccentSpark(charNode){
    const r = charNode.getBoundingClientRect();
    const wrap = document.querySelector('.logo-wrap').getBoundingClientRect();
    const sparkX = (r.left + r.width/2) - wrap.left;
    const sparkY = (r.top + r.height/3) - wrap.top;
    accentSpark.style.left = sparkX + 'px';
    accentSpark.style.top = sparkY + 'px';
    accentSpark.style.opacity = '1';
    accentSpark.animate([
      { transform: 'translate(-50%,-50%) scale(0.6)', opacity:1, offset:0 },
      { transform: 'translate(-50%,-60%) scale(1.2)', opacity:0.95, offset:0.45 },
      { transform: 'translate(-50%,-80%) scale(0.9)', opacity:0, offset:1 }
    ], {
      duration: 900,
      easing: 'cubic-bezier(.2,.9,.3,1)'
    });
    // hide after animation
    setTimeout(()=> accentSpark.style.opacity = '0', 950);
  }

  // start sequence after small prelude
  setTimeout(()=>{
    // spawn a first wave of particles
    spawnParticles(180);
    requestAnimationFrame(step);
    // start drawing
    startDraw();
    // spawn softer secondary waves to maintain glow while drawing
    setTimeout(()=> spawnParticles(90), 900);
    setTimeout(()=> spawnParticles(60), 2100);
  }, 420);

  // Accessibility: allow replay on click
  document.querySelector('.stage').addEventListener('click', ()=> {
    // reset paths
    paths.forEach(id => {
      const p = getPath(id);
      if(!p) return;
      const L = p.getTotalLength ? p.getTotalLength() : approxLength(p);
      p.style.transition = 'none';
      p.style.strokeDasharray = L;
      p.style.strokeDashoffset = L;
      // force reflow to reapply transitions
      void p.getBoundingClientRect();
      // restore transition
      p.style.transition = `stroke-dashoffset ${DURATION_DRAW}ms cubic-bezier(.2,.9,.3,1)`;
    });
    // clear particles & text
    particles = [];
    ctx.clearRect(0,0,canvas.width,canvas.height);
    brandTextEl.innerHTML = '';
    accentSpark.style.opacity = 0;
    // restart
    setTimeout(()=> {
      spawnParticles(120);
      startDraw();
    }, 180);
  });

  // Expose small helper to replace the SVG with an external file if you want:
  window.replaceSvgPaths = function(svgString){
    // This helper can be used by devs to replace the <svg> innerHTML
    // Example use: fetch('logo-exact.svg').then(r=>r.text()).then(s => replaceSvgPaths(s))
    const container = document.querySelector('.logo-wrap');
    const parser = new DOMParser();
    const doc = parser.parseFromString(svgString, 'image/svg+xml');
    const newSvg = doc.querySelector('svg');
    if(newSvg){
      const oldSvg = container.querySelector('svg');
      oldSvg.replaceWith(newSvg);
      // re-bind paths with same IDs if possible
    }
  };

})();
</script>
</body>
</html>
